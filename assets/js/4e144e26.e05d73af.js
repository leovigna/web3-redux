"use strict";(globalThis.webpackChunk_owlprotocol_web3_redux_docs=globalThis.webpackChunk_owlprotocol_web3_redux_docs||[]).push([[4155],{7522:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var a=r(9901);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),i=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},u=function(e){var t=i(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=i(r),m=n,b=p["".concat(s,".").concat(m)]||p[m]||d[m]||o;return r?a.createElement(b,c(c({ref:t},u),{},{components:r})):a.createElement(b,c({ref:t},u))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,c=new Array(o);c[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,c[1]=l;for(var i=2;i<o;i++)c[i]=r[i];return a.createElement.apply(null,c)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},4690:(e,t,r)=>{r.d(t,{Z:()=>c});var a=r(9901),n=r(4517);const o="tabItem_DOlp";function c({children:e,hidden:t,className:r}){return a.createElement("div",{role:"tabpanel",className:(0,n.Z)(o,r),hidden:t},e)}},5108:(e,t,r)=>{r.d(t,{Z:()=>m});var a=r(2875),n=r(9901),o=r(4517),c=r(105),l=r(2869),s=r(4977),i=r(5205);const u="tabList_n405",d="tabItem_hzXM";function p(e){const{lazy:t,block:r,defaultValue:c,values:p,groupId:m,className:b}=e,h=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=p??h.map((({props:{value:e,label:t,attributes:r}})=>({value:e,label:t,attributes:r}))),k=(0,l.l)(f,((e,t)=>e.value===t.value));if(k.length>0)throw new Error(`Docusaurus error: Duplicate values "${k.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const w=null===c?c:c??h.find((e=>e.props.default))?.props.value??h[0].props.value;if(null!==w&&!f.some((e=>e.value===w)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${w}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:g,setTabGroupChoices:v}=(0,s.U)(),[C,y]=(0,n.useState)(w),x=[],{blockElementScrollPositionUntilNextRender:N}=(0,i.o5)();if(null!=m){const e=g[m];null!=e&&e!==C&&f.some((t=>t.value===e))&&y(e)}const E=e=>{const t=e.currentTarget,r=x.indexOf(t),a=f[r].value;a!==C&&(N(t),y(a),null!=m&&v(m,String(a)))},O=e=>{let t=null;switch(e.key){case"ArrowRight":{const r=x.indexOf(e.currentTarget)+1;t=x[r]??x[0];break}case"ArrowLeft":{const r=x.indexOf(e.currentTarget)-1;t=x[r]??x[x.length-1];break}}t?.focus()};return n.createElement("div",{className:(0,o.Z)("tabs-container",u)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":r},b)},f.map((({value:e,label:t,attributes:r})=>n.createElement("li",(0,a.Z)({role:"tab",tabIndex:C===e?0:-1,"aria-selected":C===e,key:e,ref:e=>x.push(e),onKeyDown:O,onFocus:E,onClick:E},r,{className:(0,o.Z)("tabs__item",d,r?.className,{"tabs__item--active":C===e})}),t??e)))),t?(0,n.cloneElement)(h.filter((e=>e.props.value===C))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},h.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==C})))))}function m(e){const t=(0,c.Z)();return n.createElement(p,(0,a.Z)({key:String(t)},e))}},4145:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var a=r(2875),n=(r(9901),r(7522)),o=r(5108),c=r(4690);const l={sidebar_position:4,label:"Configure Contract"},s="Configure Contract",i={unversionedId:"web3-redux-quickstart/add_contract",id:"web3-redux-quickstart/add_contract",title:"Configure Contract",description:"Contract",source:"@site/docs/web3-redux-quickstart/4_add_contract.mdx",sourceDirName:"web3-redux-quickstart",slug:"/web3-redux-quickstart/add_contract",permalink:"/web3-redux/docs/web3-redux-quickstart/add_contract",draft:!1,editUrl:"https://github.com/owlprotocol/web3-redux/tree/master/docusaurus/docs/web3-redux-quickstart/4_add_contract.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,label:"Configure Contract"},sidebar:"tutorialSidebar",previous:{title:"Configure Network",permalink:"/web3-redux/docs/web3-redux-quickstart/add_network"},next:{title:"Contract Call",permalink:"/web3-redux/docs/web3-redux-quickstart/contract_call"}},u={},d=[{value:"Contract",id:"contract",level:2},{value:"Add Contract",id:"add-contract",level:2}],p={toc:d};function m({components:e,...t}){return(0,n.kt)("wrapper",(0,a.Z)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"configure-contract"},"Configure Contract"),(0,n.kt)("h2",{id:"contract"},"Contract"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"/web3-redux/docs/web3-redux-reference/interfaces/Contract.Contract-1"},"Contract")," entity is the most used model in Web3-Redux.\nIn Web3-Redux, a contract can be one of:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Externally Owned Account (EOA)"),": This is a simple Ethereum address that can have some balance, send transactions but that does not have any code. Can be used to track Ethereum balance of some address for example."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Smart Contract"),": This is a program on the blockchain that stores and executes EVM bytecode. Can be used to track ERC20 token (eg. USDC) balance of some address for example.")),(0,n.kt)("p",null,"Both are stored in the same ",(0,n.kt)("inlineCode",{parentName:"p"},"Contract")," model as they are indexed by ",(0,n.kt)("inlineCode",{parentName:"p"},"networkId-address")," in the store."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"We do not use the sole address alone for indexing as a EOA or Smart Contract can exist on multiple EVM blockchains with a distinct balance/state.")),(0,n.kt)("h2",{id:"add-contract"},"Add Contract"),(0,n.kt)("p",null,"Contracts can be used in multiple ways such as fetching native token balance (ETH), making smart contract calls, or listening for event logs. One you've added a network (as in the previous section), add a contract by dispatching a ",(0,n.kt)("inlineCode",{parentName:"p"},"Contract.create")," action with the following parameters:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"networkId")," ",(0,n.kt)("strong",{parentName:"li"},"(required)"),": The network this contract lives on. Important to configure how data will be fetched."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"address")," ",(0,n.kt)("strong",{parentName:"li"},"(required)"),": The address of this contract."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"abi"),": ",(0,n.kt)("strong",{parentName:"li"},"REQUIRED")," for Smart Contracts to define their interface. EOAs do ",(0,n.kt)("strong",{parentName:"li"},"NOT")," have an abi.")),(0,n.kt)("p",null,"Below we've extended the example from the previous section and add a generic ",(0,n.kt)("inlineCode",{parentName:"p"},"IERC20")," contract for ",(0,n.kt)("inlineCode",{parentName:"p"},"USDC"),"."),(0,n.kt)(o.Z,{groupId:"framework",mdxType:"Tabs"},(0,n.kt)(c.Z,{value:"react",label:"React",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx" showLineNumbers',title:'"src/App.tsx"',showLineNumbers:!0},"import { Abi, Network } from '@owlprotocol/web3-redux';\n\nconst defaultNetwork = { web3Rpc: 'ws://localhost:8545' };\nconst USDC = '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48';\nconst defaultContract = { abi: Abi.IERC20.abi };\n\nconst App = () => {\n    const [network] = Network.hooks.useNetwork('1', defaultNetwork)\n    //highlight-start\n    const [contract] = Contract.hooks.useContract('1', USDC, defaultContract);\n    // highlight-end\n\n    return <>{contract.address}</>\n};\n")),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"The component must have access to the Redux context (see ",(0,n.kt)("a",{parentName:"p",href:"/web3-redux/docs/web3-redux-quickstart/add_store"},"Configure Store"),")."))),(0,n.kt)(c.Z,{value:"redux",label:"Redux",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="src/createContract.ts" showLineNumbers',title:'"src/createContract.ts"',showLineNumbers:!0},"import { store, Network } from '@owlprotocol/web3-redux';\nconst defaultNetwork = { networkId: '1', web3Rpc: 'ws://localhost:8545' };\nconst USDC = '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48';\nconst defaultContract = { networkId: '1', address: USDC, abi: Abi.IERC20.abi };\n\nstore.dispatch(Network.actions.upsert(defaultNetwork));\n// highlight-start\nstore.dispatch(Contract.actions.upsert(defaultContract));\n// highlight-end\n")))))}m.isMDXComponent=!0}}]);